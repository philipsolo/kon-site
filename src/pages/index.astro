---
import BaseLayout from '@/layouts/BaseLayout.astro';
import ImageGallery from '@/components/ImageGallery.astro';
import TextWithImage from '@/components/TextWithImage.astro';
import ColumnarDialogue from '@/components/ColumnarDialogue.astro';
---

<BaseLayout>
  <section class="home">
    <div class="content">
      <TextWithImage imageSrc="" imagePosition="right">
        <p>I met Konstantinos through some prompts, and we agreed — well, I had little choice — to take a moment to reflect on him and what matters to him. Born in Athens in 1999, he has a love–hate relationship with the city — a place that fosters subversion, feels liminal at times, but is undeniably beautiful.</p>
        <p>He moves through different circles of friends: people to talk work with, people to talk feelings with, and people to simply go out and dance with. Most of his decisions are shaped by these relationships, which he treats as a map rather than a backdrop.</p>
        <p>Weekdays are spent working in cafes or libraries, often followed by trips to the cinema, leading into Sundays spent relaxing at the sea.</p>
      </TextWithImage>

      <figure class="figure">
        <img data-random-image-slot class="rand-img main-img" alt="random image slot 1" loading="lazy" decoding="async" width="650" />
        <figcaption class="sr-only">random image</figcaption>
      </figure>

      <TextWithImage imageSrc="" imagePosition="right">
        <div class="dialogue-entry speaker-gpt">
          <p class="speaker-label">GPT</p>
          <p>Do you remember a moment when you knew this is what you wanted to do?</p>
        </div>
        <div class="dialogue-entry speaker-ks">
          <p class="speaker-label">KS</p>
          <p>It was more like a method of elimination, as I didn’t really think it was possible to do something more creative. In my environment, it was frowned upon not to become an engineer or lawyer. But after doing Mathematics, I realized I could never live a corporate or scientific life. I have a vivid memory of being on Hydra one summer for a party, and it just clicked — fashion had to be more than a hobby.</p>
        </div>
        <div class="dialogue-entry speaker-gpt">
          <p class="speaker-label">GPT</p>
          <p>That sounds like a turning point — not loud or dramatic, but a kind of quiet click in your head. What was it about that moment in Hydra that made it feel different from everything before?</p>
        </div>
        <div class="dialogue-entry speaker-ks">
          <p class="speaker-label">KS</p>
          <p>I think I was just more confident in that setting. It’s a small and beautiful place. Like most Greek islands, it has its own aesthetic and vibe, and while I was interpreting it, I realized this is what I want to do — interpret and reproduce unique aesthetics.</p>
        </div>
      </TextWithImage>

      <blockquote class="closing-quote">
        “I don’t force direction. I let things unfold.”
      </blockquote>

      <figure class="figure">
        <img data-random-image-slot class="rand-img main-img" alt="random image slot 2" loading="lazy" decoding="async" width="650" />
        <figcaption class="sr-only">random image</figcaption>
      </figure>

      <ColumnarDialogue>
        <div slot="left">
          <div class="dialogue-entry speaker-gpt">
            <p class="speaker-label">GPT</p>
            <p>So it wasn’t just about clothes or visuals, but more about translating a feeling — turning a place, a mood, or a moment into something tangible. Do you think that’s still what drives you now?</p>
          </div>
          <div class="dialogue-entry speaker-gpt">
            <p class="speaker-label">GPT</p>
            <p>That’s interesting — it sounds almost architectural, but emotional at the same time. When you’re in a space, what’s the first thing you pay attention to?</p>
          </div>
          <div class="dialogue-entry speaker-gpt">
            <p class="speaker-label">GPT</p>
            <p>That’s such a sharp way to look at it — starting from subtraction instead of addition. Do you approach people and relationships the same way?</p>
          </div>
          <div class="dialogue-entry speaker-gpt">
            <p class="speaker-label">GPT</p>
            <p>That makes sense — there’s something honest in giving fully, even if it stings sometimes. Do you think that same openness shapes how you work creatively too?</p>
          </div>
          <div class="dialogue-entry speaker-gpt">
            <p class="speaker-label">GPT</p>
            <p>So trust and freedom are the foundation — not just for the work itself, but for the whole process. How do you usually create that environment when you’re leading a project?</p>
          </div>
          <div class="dialogue-entry speaker-gpt">
            <p class="speaker-label">GPT</p>
            <p>That makes it feel more natural, like the collaboration starts from genuine curiosity rather than obligation. Do you think your sensitivity and awareness of people helps in reading spaces and projects the same way?</p>
          </div>
        </div>
        <div slot="right">
          <div class="dialogue-entry speaker-ks">
            <p class="speaker-label">KS</p>
            <p>Yes, exactly. At the moment, I’m more focused on spaces and how to extract the appropriate emotions from them.</p>
          </div>
          <div class="dialogue-entry speaker-ks">
            <p class="speaker-label">KS</p>
            <p>What doesn’t fit or isn’t needed.</p>
          </div>
          <div class="dialogue-entry speaker-ks">
            <p class="speaker-label">KS</p>
            <p>I think so. I usually expect the most from people even if they let me down. It often leads to disappointment, but I still prefer this approach to a safer one. Risky relationships usually give you more.</p>
          </div>
          <div class="dialogue-entry speaker-ks">
            <p class="speaker-label">KS</p>
            <p>Probably, since most things I do are collaborative, and without trust and freedom, people can’t create.</p>
          </div>
          <div class="dialogue-entry speaker-ks">
            <p class="speaker-label">KS</p>
            <p>I mostly try to work with friends, so the trust is already there. Many times, I have to find “strangers,” in which case I like approaching them as potential new friends.</p>
          </div>
        </div>
      </ColumnarDialogue>

      <blockquote class="closing-quote">
        “Human connections are how I navigate, not what I decorate my life with.”
      </blockquote>

      <ImageGallery />
    </div>
  </section>

  <script type="module">
    const IMAGES = [
      '/dji_fly_20240616_191910_0005_1718599063526_photo.jpg',
      '/DSC09423.JPG',
      '/IMG_0087.jpg',
      '/IMG_0187.jpg',
      '/IMG_0339.jpg',
      '/IMG_0341.JPG',
      '/IMG_2392.jpg',
      '/IMG_2410.jpg',
      '/IMG_2991.jpg',
      '/IMG_3140.jpg',
      '/IMG_4405.JPG',
      '/IMG_4481.jpg',
      '/IMG_5413.jpg',
      '/IMG_5602.jpg',
      '/IMG_6373.jpg',
      '/IMG_6746.jpg',
      '/IMG_6813.jpg',
      '/IMG_6905.jpg',
      '/IMG_7149.jpg',
      '/IMG_7194.jpg',
      '/IMG_8301.jpg',
      '/IMG_8389.jpg',
      '/IMG_8492.JPG',
      '/IMG_8598.jpg',
      '/IMG_8881.jpg',
      '/IMG_9220.jpg',
    ];

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    (function masterImageScript() {
      const shuffled = shuffle(IMAGES.slice());
      const usedImages = [];

      // Part 1: Populate content images
      const allSlots = document.querySelectorAll('[data-random-image-slot], [data-img-placeholder]');
      allSlots.forEach(el => {
        if (shuffled.length === 0) return;
        const newSrc = shuffled.pop();
        usedImages.push(newSrc);
        
        el.src = newSrc;

        if (el.hasAttribute('data-random-image-slot')) {
          el.srcset = `${newSrc} 650w`;
          el.sizes = '(min-width: 720px) 650px, 100vw';
        }
      });

      // Part 2: Filter the main gallery
      const galleryImages = document.querySelectorAll('[data-gallery-image]');
      galleryImages.forEach(galleryImg => {
        const isUsed = usedImages.some(usedSrc => galleryImg.src.endsWith(usedSrc));
        if (isUsed) {
          galleryImg.style.display = 'none';
        }
      });
    })();
  </script>

</BaseLayout>

<style>
  .home {
    width: 80%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 4rem 1.25rem;
  }

  .content p {
    line-height: 1.7;
    color: rgba(255,255,255,0.95);
  }

  .dialogue-entry {
    margin-bottom: 1.5rem;
    padding: 1rem;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.08);
  }

  .dialogue-entry p {
    margin: 0;
  }

  .speaker-label {
    font-weight: 700;
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 0.8px;
    margin-bottom: 0.75rem;
    display: block;
    opacity: 0.6;
  }

  .speaker-gpt {
    background-color: rgba(255, 255, 255, 0.03);
  }

  .speaker-ks {
    background-color: transparent;
  }

  .figure {
    margin: 3rem auto;
    max-width: 75%;
  }

  .main-img {
    width: 100%;
    height: auto;
    border-radius: 12px;
    display: block;
  }

  .closing-quote {
    margin-top: 3rem;
    text-align: center;
    font-size: 1.35rem;
    font-style: italic;
    font-weight: 600;
    color: rgba(255,255,255,0.96);
    padding: 0 1rem;
  }

  @media (max-width: 720px) {
    .home {
      padding: 2rem 1rem;
      width: 100%;
    }
    .dialogue-entry {
        padding: 0.8rem;
    }
  }
</style>
